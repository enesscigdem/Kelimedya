@model Kelimedya.WebApp.Areas.Student.Models.LessonDetailViewModel
@{
    Layout = "~/Areas/Student/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Ders Tamamlandı";
}

<div class="relative min-h-screen flex items-center justify-center relative min-h-screen bg-gradient-to-br from-orange-50 via-white to-yellow-50">
  <!-- Konfeti Canvas -->
  <canvas id="confettiCanvas" class="absolute inset-0 w-full h-full pointer-events-none"></canvas>

  <!-- Merkez Kart -->
  <div class="relative z-10 max-w-md w-full bg-white/90 backdrop-blur-sm rounded-3xl p-8 shadow-2xl border border-green-200 text-center animate-fadeInUp">
    <div class="mx-auto w-32 h-32 mb-6 bg-gradient-to-br from-green-300 to-green-400 rounded-full flex items-center justify-center shadow-lg">
      <i class="fas fa-check text-6xl text-white drop-shadow-lg"></i>
    </div>
    <h2 class="text-3xl font-extrabold text-green-800 mb-4">Tebrikler!</h2>
    <p class="text-gray-700 mb-6">Bu dersi başarıyla tamamladınız.</p>
    <a asp-action="MyLessons" asp-route-id="@Model.Lesson.CourseId"
       class="inline-flex items-center gap-3 bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-3 rounded-full font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition">
      <i class="fas fa-arrow-left"></i>
      Derslere Dön
    </a>
  </div>
</div>

@section Scripts {
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // 2 saniyelik konfeti patlatma
      const duration = 2000;
      const end = Date.now() + duration;
      (function frame() {
        confetti({ particleCount: 5, angle: 60, spread: 55, origin: { x: 0 } });
        confetti({ particleCount: 5, angle: 120, spread: 55, origin: { x: 1 } });
        if (Date.now() < end) {
          requestAnimationFrame(frame);
        }
      })();
    });
  </script>
}

<style>
  @@keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  .animate-fadeInUp {
    animation: fadeInUp 0.8s ease-out both;
  }
</style>
