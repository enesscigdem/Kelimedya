@using Microsoft.Extensions.Configuration
@using System.Text.RegularExpressions
@inject IConfiguration Configuration
@{
    Layout = "_Layout";

    var legal = Configuration.GetSection("Legal");
    var companyName = legal["CompanyName"] ?? "—";
    var address     = legal["Address"] ?? "—";
    var phoneRaw    = legal["Phone"] ?? "";
    var email       = legal["Email"] ?? "";

    // Telefonu +90XXXXXXXXXX formatına çevir
    var digits      = Regex.Replace(phoneRaw, "[^0-9]", "");
    var phoneE164   = !string.IsNullOrWhiteSpace(digits)
                        ? (digits.StartsWith("0") ? $"+90{digits.Substring(1)}" : $"+{digits}")
                        : "";

    var mapSrc = $"https://www.google.com/maps?q={Uri.EscapeDataString(address)}&output=embed";
}
<section class="td_page_heading td_center td_bg_filed td_heading_bg text-center td_hobble" data-src="/theme/web_UI/assets/img/home_5/page_heading_bg.jpg">
    <div class="container">
        <div class="td_page_heading_in">
            <h1 class="td_white_color td_fs_48 td_mb_10">İletişim</h1>
            <ol class="breadcrumb m-0 td_fs_20 td_opacity_8 td_semibold td_white_color">
                <li class="breadcrumb-item">
                    <a asp-controller="Home" asp-action="Index">Anasayfa</a>
                </li>
                <li class="breadcrumb-item active">İletişim</li>
            </ol>
        </div>
    </div>
    <div class="td_page_heading_shape_1 position-absolute td_hover_layer_3"></div>
    <div class="td_page_heading_shape_2 position-absolute td_hover_layer_5"></div>
    <div class="td_page_heading_shape_3 position-absolute">
        <img src="~/theme/web_UI/assets/img/home_5/page_heading_shape_3.svg" alt="">
    </div>
    <div class="td_page_heading_shape_4 position-absolute">
        <img src="~/theme/web_UI/assets/img/home_5/page_heading_shape_4.svg" alt="">
    </div>
    <div class="td_page_heading_shape_5 position-absolute">
        <img src="~/theme/web_UI/assets/img/home_5/page_heading_shape_5.svg" alt="">
    </div>
    <div class="td_page_heading_shape_6 position-absolute td_hover_layer_3"></div>
</section>

<section>
    <div class="td_height_120 td_height_lg_80"></div>
    <div class="container">
        <div class="row">
            <div class="col-xxl-10 offset-xxl-1">
                <div class="row align-items-center td_gap_y_40">
                    <div class="col-lg-7">
                        <img style="border-radius: 100px" src="~/theme/web_UI/assets/img/home_5/contact_img.png" alt="" class="w-100">
                    </div>
                    <div class="col-xl-4 offset-xl-1 col-lg-5">
                        <div class="td_contact_info">
                            <div class="td_section_heading td_style_2 td_mb_20">
                                <h2 class="td_contact_info_title td_fs_36 mb-0">Adresimiz</h2>
                            </div>
                            <div>
                                <h2 class="td_fs_24 td_semibold td_mb_20">@companyName</h2>
                                <p class="td_fs_18 td_heading_color td_medium td_mb_10">@address</p>
                                <p class="td_fs_18 td_heading_color td_medium td_mb_10 td_opacity_7">
                                    @if (!string.IsNullOrWhiteSpace(phoneE164))
                                    {
                                        <a href="tel:@phoneE164">@phoneRaw</a>
                                    }
                                </p>
                                <p class="td_fs_18 td_heading_color td_medium mb-0 td_opacity_7">
                                    @if (!string.IsNullOrWhiteSpace(email))
                                    {
                                        <a href="mailto:@email">@email</a>
                                    }
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="td_height_120 td_height_lg_80"></div>

    <div class="td_map">
        <iframe id="map"
                src="@mapSrc"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
</section>
