<!-- MyCourses/Index.cshtml -->
@model List<Kelimedya.WebApp.Areas.Student.Models.CourseWithProgressViewModel>
@{
    Layout = "~/Areas/Student/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Eğitimlerim - Profesyonel Görünüm";
}

<link href="~/css/myCourses.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<div class="courses-container">
    <!-- Başlık & Kontroller -->
    <header class="header-area">
        <div class="header-content">
            <h1 class="courses-hero">Eğitimlerim</h1>
            <p class="courses-sub">Kayıtlı eğitimlerinizi profesyonel şekilde yönetin</p>
        </div>
        <div class="tools">
            <div class="search-box">
                <input type="text" placeholder="Kurs ara..." id="searchInput">
                <i class="fas fa-search"></i>
            </div>
            <button class="ultra-btn" id="filterBtn">
                <i class="fas fa-filter"></i>
                Filtrele
            </button>
        </div>
    </header>

    <!-- Kurs Kartları Grid -->
    <section class="cards-grid" id="cardsGrid">
        @if (Model?.Any() == true)
        {
            @foreach (var item in Model)
            {
                <div class="course-card">
                    <div class="card-header">
                        <img src="@(item.Course.ImageUrl ?? "/images/course-placeholder.jpg")" 
                             alt="@item.Course.Title"
                             class="card-image">
                    </div>
                    
                    <div class="card-body">
                        <h3 class="course-title">@item.Course.Title</h3>
                        <p class="course-description">@item.Course.Description</p>
                        
                        <a class="ultra-btn course-action" 
                           asp-controller="MyCourses" 
                           asp-action="MyLessons" 
                           asp-route-id="@item.Course.Id">
                            <i class="fas fa-graduation-cap"></i>
                            Eğitime Git
                        </a>
                    </div>
                </div>
            }
        }
        else
        {
            <div class="no-courses">
                <img src="/images/empty-courses.png" alt="Boş liste">
                <h3>Henüz kayıtlı eğitiminiz bulunmamaktadır</h3>
            </div>
        }
    </section>
</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const searchInput = document.getElementById('searchInput');
            
            searchInput.addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase();
                document.querySelectorAll('.course-card').forEach(card => {
                    const title = card.querySelector('.course-title').textContent.toLowerCase();
                    const desc = card.querySelector('.course-description')?.textContent.toLowerCase() || '';
                    card.style.display = (title.includes(searchTerm) || desc.includes(searchTerm)) 
                        ? 'flex' 
                        : 'none';
                });
            });
        });
    </script>
}