@model Paragraph.WebApp.Areas.Admin.Models.EditUserViewModel

@{
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Kullanıcı Düzenle";
}

<div class="page-header d-print-none">
    <div class="container-xl">
        <div class="row g-2 align-items-center">
            <div class="col">
                <h2 class="page-title">
                    <!-- Edit Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user-edit me-1"
                         width="28" height="28" viewBox="0 0 24 24" stroke-width="2"
                         stroke="currentColor" fill="none" stroke-linecap="round"
                         stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <path d="M8 7a4 4 0 1 1 8 0a4 4 0 1 1 -8 0"/>
                        <path d="M6 21v-2a4 4 0 0 1 4 -4h1"/>
                        <path d="M18 13v.01"/>
                        <path d="M18 10l2 -2l2 2l-2 2"/>
                    </svg>
                    Kullanıcı Düzenle
                </h2>
                <div class="text-muted mt-1">
                    Mevcut kullanıcının bilgilerini güncelleyin
                </div>
            </div>
        </div>
    </div>
</div>

<div class="page-body">
    <div class="container-xl">
        @if (!ViewData.ModelState.IsValid && ViewData.ModelState.Values.SelectMany(v => v.Errors).Any())
        {
            <div class="alert alert-danger" role="alert">
                @Html.ValidationSummary(false, "", new { @class = "mb-0" })
            </div>
        }
        <form asp-area="Admin" asp-controller="Users" asp-action="Edit" method="post" class="card">
            <input type="hidden" asp-for="Id"/>

            <div class="card-header">
                <h3 class="card-title">Kullanıcı Bilgileri</h3>
            </div>
            <div class="card-body">
                <!-- Ad Soyad -->
                <div class="mb-3">
                    <label class="form-label required">Ad</label>
                    <input type="text" asp-for="Name" class="form-control" placeholder="Örn: Ali" required/>
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>

                <div class="mb-3">
                    <label class="form-label required">Soyad</label>
                    <input type="text" asp-for="Surname" class="form-control" placeholder="Örn: Yılmaz" required/>
                    <span asp-validation-for="Surname" class="text-danger"></span>
                </div>

                <!-- Kullanıcı Adı -->
                <div class="mb-3">
                    <label class="form-label required">Kullanıcı Adı</label>
                    <input type="text" asp-for="UserName" class="form-control" placeholder="Örn: aliyilmaz" required/>
                    <span asp-validation-for="UserName" class="text-danger"></span>
                </div>

                <!-- E-posta -->
                <div class="mb-3">
                    <label class="form-label required">E-posta</label>
                    <input type="email" asp-for="Email" class="form-control" placeholder="Örn: ali@example.com" required/>
                    <span asp-validation-for="Email" class="text-danger"></span>
                </div>

                <!-- Rol -->
                <div class="mb-3">
                    <label class="form-label required">Rol</label>
                    <select asp-for="Role" class="form-select" required>
                        <!option value="Admin" @(Model.Role == "Admin" ? "selected" : "")>Admin</!option>
                        <!option value="Teacher" @(Model.Role == "Teacher" ? "selected" : "")>Öğretmen</!option>
                        <!option value="Student" @(Model.Role == "Student" ? "selected" : "")>Öğrenci</!option>
                    </select>
                    <span asp-validation-for="Role" class="text-danger"></span>
                </div>
            </div>
            <div class="card-footer text-end">
                <a asp-area="Admin" asp-controller="Users" asp-action="Index" class="btn btn-secondary">
                    Vazgeç
                </a>
                <button type="submit" class="btn btn-success ms-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-circle-check"
                         width="24" height="24" viewBox="0 0 24 24" stroke-width="2"
                         stroke="currentColor" fill="none" stroke-linecap="round"
                         stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <path d="M12 9v2m0 4v.01"/>
                        <path d="M8 7l4 -4l4 4"/>
                        <circle cx="12" cy="12" r="9"/>
                        <path d="M9 12l2 2l4 -4"/>
                    </svg>
                    Güncelle
                </button>
            </div>
        </form>
    </div>
</div>