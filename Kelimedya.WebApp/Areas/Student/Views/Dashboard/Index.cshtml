@model Kelimedya.WebApp.Areas.Student.Models.StudentDashboardViewModel

@{
    Layout = "~/Areas/Student/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Öğrenci Paneli - Üst Düzey Dashboard";
}

<link href="~/css/studentDashboard.css" rel="stylesheet" />

<div class="student-dashboard-container">
    
    <div class="circle-anim"></div>
    <div class="circle-anim"></div>

    
    <div class="hero-welcome">Merhaba, Ali!</div>
    <div class="sub-text">
        Güne başlamak için harika bir zaman. Kelime dağarcığını genişletmeye hazır mısın?
    </div>

    
    <div class="stats-grid">
        <div class="stats-block">
            <h2>Toplam Eğitim</h2>
            <div class="numbers">@Model.TotalCourses</div>
            <div class="desc">Başarıyla bitirdiğin eğitim sayısı. Yeni bir seviye denemeye hazır!.</div>
        </div>
        <div class="stats-block">
            <h2>Tamamlanan Dersler</h2>
            <div class="numbers">@Model.CompletedLessons</div>
            <div class="desc">Öğrendiğin derslerin sayısı. Yeni derslerle kendini geliştirmeye devam et.</div>
        </div>
        <div class="stats-block">
            <h2>Öğrenilen Kelimeler</h2>
            <div class="numbers">@Model.LearnedWords</div>
            <div class="desc">Her gün 5 yeni kelimeyle pratik yapmaya ne dersin?</div>
        </div>
    </div>

    
    <div class="progress-box">
        <h3>Kurs İlerlemelerim</h3>
        <table>
            <thead>
                <tr>
                    <th>Kurs</th>
                    <th>Ortalama İlerleme</th>
                </tr>
            </thead>
            <tbody>
                @if(Model.CourseProgresses != null && Model.CourseProgresses.Any())
                {
                    foreach (var cp in Model.CourseProgresses)
                    {
                        <tr>
                            <td>@cp.CourseTitle</td>
                            <td>@string.Format("{0:0}%", cp.AverageCompletion)</td>
                        </tr>
                    }
                }
                else
                {
                    <tr>
                        <td colspan="2">Henüz kurs ilerlemesi verisi bulunmamaktadır.</td>
                    </tr>
                }
            </tbody>
        </table>
        <a href="#" class="progress-btn" style="margin-top:1rem;">Kurs Detayları</a>
    </div>

    
    <div class="progress-box">
        <h3>Ders İlerlemelerim</h3>
        <table>
            <thead>
                <tr>
                    <th>Ders</th>
                    <th>İlerleme</th>
                    <th>Durum</th>
                </tr>
            </thead>
            <tbody>
                @if(Model.LessonProgresses != null && Model.LessonProgresses.Any())
                {
                    foreach (var lp in Model.LessonProgresses)
                    {
                        <tr>
                            <td>@lp.LessonTitle</td>
                            <td>@string.Format("{0:0}%", lp.CompletionPercentage)</td>
                            <td>@(lp.IsCompleted ? "Tamamlandı" : "Devam Ediyor")</td>
                        </tr>
                    }
                }
                else
                {
                    <tr>
                        <td colspan="3">Henüz ders ilerlemesi verisi bulunmamaktadır.</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <div class="progress-box">
        <h3>Oyun İstatistiklerim</h3>
        <table>
            <thead>
                <tr>
                    <th>Oyun</th>
                    <th>Oynama Sayısı</th>
                    <th>Ortalama Skor</th>
                </tr>
            </thead>
            <tbody>
               @if (Model.GameStats != null && Model.GameStats.Any())
               {
                   foreach (var gs in Model.GameStats)
                   {
                       <tr>
                           <td>@gs.GameTitle</td>
                           <td>@gs.PlayCount</td>
                           <td>@string.Format("{0:0.##}", gs.AverageScore)</td>
                       </tr>
                   }
               }
               else
               {
                   <tr><td colspan="3">Henüz oyun verisi bulunmamaktadır.</td></tr>
               }
            </tbody>
        </table>
    </div>
</div>
